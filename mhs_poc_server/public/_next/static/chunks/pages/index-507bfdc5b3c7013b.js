(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(1364)}])},1364:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var n=l(5893),a=l(7597),s=l.n(a),i=l(7294);function r(){let[e,t]=(0,i.useState)("search"),[l,a]=(0,i.useState)("gpt-4-turbo"),[r,c]=(0,i.useState)(""),[o,u]=(0,i.useState)("fi"),[d,h]=(0,i.useState)(!1),[x,f]=(0,i.useState)(""),[p,m]=(0,i.useState)([]);return(0,n.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-24 ".concat(s().className),children:[(0,n.jsxs)("div",{className:"flex flex-row",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("label",{htmlFor:"action-input",children:"Toiminto: "}),"answer"===e&&(0,n.jsx)("label",{htmlFor:"model-input",children:"GPT-malli: "}),(0,n.jsx)("label",{htmlFor:"lang-input",children:"Kieli: "}),(0,n.jsx)("label",{htmlFor:"query-input",children:"Hae / kysy: "})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("select",{id:"action-input",value:e,onChange:e=>t(e.target.value),children:[(0,n.jsx)("option",{value:"search",children:"Haku"}),(0,n.jsx)("option",{value:"answer",children:"Vastaus"})]}),"answer"===e&&(0,n.jsxs)("select",{id:"model-input",value:l,onChange:e=>a(e.target.value),children:[(0,n.jsx)("option",{value:"gpt-4-turbo",children:"gpt-4-turbo"}),(0,n.jsx)("option",{value:"gpt-4",children:"gpt-4"}),(0,n.jsx)("option",{value:"gpt-3.5-turbo",children:"gpt-3.5-turbo"})]}),(0,n.jsxs)("select",{id:"lang-input",value:o,onChange:e=>u(e.target.value),children:[(0,n.jsx)("option",{value:"fi",children:"Suomi"}),(0,n.jsx)("option",{value:"sv",children:"Ruotsi"})]}),(0,n.jsx)("input",{id:"query-input",value:r,onChange:e=>c(e.target.value),type:"text"})]})]}),!d&&(0,n.jsx)("div",{className:"flex flex-row",children:(0,n.jsx)("button",{onClick:()=>{let t;return h(!0),m([]),f(""),t={query:r,lang:o},void("answer"===e&&(t.accuracy=1,t.model=l),fetch("search"===e?"articles/search":"articles/answer",{headers:new Headers({"content-type":"application/json"}),method:"POST",body:JSON.stringify(t)}).then(e=>e.json()).then(t=>{"answer"==e?(f(t.answer[0].message.content),m(t.sources.map(e=>({title:e.articleTitle,content:e.content,url:e.articleUrl})))):m(t.hits.map(e=>({title:e._source.articleTitle,content:e._source.content,url:e._source.articleUrl})))}).finally(()=>h(!1)))},children:"L\xe4het\xe4"})}),d&&(0,n.jsx)("div",{className:"flex flex-row",children:(0,n.jsx)("p",{children:"Ladataan..."})}),x.length>0&&(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)("pre",{children:x})}),(0,n.jsx)("div",{className:"flex flex-col",children:p.map((e,t)=>(0,n.jsxs)("div",{className:"result-container",children:[(0,n.jsx)("div",{children:(0,n.jsx)("a",{href:e.url,children:(0,n.jsx)("h4",{className:"result-title",children:e.title})})}),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})]},t))})]})}},7597:function(e){e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);