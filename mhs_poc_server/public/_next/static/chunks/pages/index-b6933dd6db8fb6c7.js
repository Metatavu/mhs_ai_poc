(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(1364)}])},1364:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return i}});var n=l(5893),a=l(7597),s=l.n(a),r=l(7294);function i(){let[e,t]=(0,r.useState)("search"),[l,a]=(0,r.useState)("gpt-4-turbo"),[i,c]=(0,r.useState)(""),[u,o]=(0,r.useState)("fi"),[h,d]=(0,r.useState)(.77),[x,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),[j,v]=(0,r.useState)([]);return(0,n.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-24 ".concat(s().className),children:[(0,n.jsxs)("div",{className:"flex flex-row",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("label",{htmlFor:"action-input",children:"Toiminto: "}),"answer"===e&&(0,n.jsx)("label",{htmlFor:"model-input",children:"GPT-malli: "}),"answer"===e&&(0,n.jsx)("label",{htmlFor:"accuracy-input",children:"Tarkkuus (0 - 1): "}),(0,n.jsx)("label",{htmlFor:"lang-input",children:"Kieli: "}),(0,n.jsx)("label",{htmlFor:"query-input",children:"Hae / kysy: "})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("select",{id:"action-input",value:e,onChange:e=>t(e.target.value),children:[(0,n.jsx)("option",{value:"search",children:"Haku"}),(0,n.jsx)("option",{value:"answer",children:"Vastaus"})]}),"answer"===e&&(0,n.jsxs)("select",{id:"model-input",value:l,onChange:e=>a(e.target.value),children:[(0,n.jsx)("option",{value:"gpt-4-turbo",children:"gpt-4-turbo"}),(0,n.jsx)("option",{value:"gpt-4",children:"gpt-4"}),(0,n.jsx)("option",{value:"gpt-3.5-turbo",children:"gpt-3.5-turbo"})]}),"answer"===e&&(0,n.jsx)("input",{id:"accuracy-input",value:h,onChange:e=>d(Number(e.target.value)),step:.01,type:"number"}),(0,n.jsxs)("select",{id:"lang-input",value:u,onChange:e=>o(e.target.value),children:[(0,n.jsx)("option",{value:"fi",children:"Suomi"}),(0,n.jsx)("option",{value:"sv",children:"Ruotsi"})]}),(0,n.jsx)("input",{id:"query-input",value:i,onChange:e=>c(e.target.value),type:"text"})]})]}),!x&&(0,n.jsx)("div",{className:"flex flex-row",children:(0,n.jsx)("button",{onClick:()=>{let t;return p(!0),v([]),m(""),t={query:i,lang:u},void("answer"===e&&(t.accuracy=h,t.model=l),fetch("search"===e?"articles/search":"articles/answer",{headers:new Headers({"content-type":"application/json"}),method:"POST",body:JSON.stringify(t)}).then(e=>e.json()).then(t=>{if("answer"==e){if(t.error){alert(t.error);return}m(t.answer[0].message.content),v(t.sources.map(e=>({title:e.articleTitle,content:e.content,url:e.articleUrl})))}else v(t.hits.map(e=>({title:e._source.articleTitle,content:e._source.content,url:e._source.articleUrl})))}).finally(()=>p(!1)))},children:"L\xe4het\xe4"})}),x&&(0,n.jsx)("div",{className:"flex flex-row",children:(0,n.jsx)("p",{children:"Ladataan..."})}),f.length>0&&(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)("pre",{children:f})}),(0,n.jsx)("div",{className:"flex flex-col",children:j.map((e,t)=>(0,n.jsxs)("div",{className:"result-container",children:[(0,n.jsx)("div",{children:(0,n.jsx)("a",{href:e.url,children:(0,n.jsx)("h4",{className:"result-title",children:e.title})})}),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}})]},t))})]})}},7597:function(e){e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);